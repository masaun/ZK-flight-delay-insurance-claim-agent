[profile.default]
src = "src"
out = "out"
libs = ["lib"]
test = "tests"
#solc_version = "0.8.27"
evm_version = "cancun"
via_ir = false

optimizer = true

# Originally, this was 200. However, to avoid the "Error: HonkVerifier: is above the contract size limit (24639 > 24576)", we set it to 100.
optimizer_runs = 100



# ─── Base mainnet fork ───────────────────────────────────────────────────────
# Set BASE_RPC_URL in your environment (use Alchemy / QuickNode, not the public RPC in production)
# export BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/<YOUR_KEY>
eth_rpc_url = "${BASE_RPC_URL}"

# Pin the block for 100% reproducible test runs.
# Update this when you need fresher on-chain state.
fork_block_number = 28_000_000   # ~ Feb 2025, USDC/EIP-3009 fully live on Base

# ─── Gas & verbosity ────────────────────────────────────────────────────────
gas_reports = ["*"]
verbosity   = 2          # use -vvvv on the CLI for full traces

# ─── Fuzz ───────────────────────────────────────────────────────────────────
[fuzz]
runs = 256

# ─── RPC caching ─────────────────────────────────────────────────────────────
# Foundry caches fork data at ~/.foundry/cache/rpc/<chain>/<block>/
# Clear with:  rm -rf ~/.foundry/cache/rpc
